<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>√Ågua Certa ‚Äî Irriga√ß√£o Simples</title>
  <link rel="stylesheet" href="./css/styles.css"/>

</head>
<body>
  <header class="container head">
    <h1>üíß √Ågua Certa</h1>
    <p class="subtitle">Calculadora de irriga√ß√£o feita para o produtor ‚Äî simples, r√°pida e econ√¥mica.</p>
  </header>

  <main class="container">
    <div class="stepper" id="stepper">
      <div class="step active" data-step="1"><span>1</span> Cultura</div>
      <div class="step" data-step="2"><span>2</span> Solo</div>
      <div class="step" data-step="3"><span>3</span> √Årea</div>
      <div class="step" data-step="4"><span>4</span> Clima & Sistema</div>
      <div class="step" data-step="5"><span>5</span> Resultado</div>
    </div>

    <!-- PASSO 1: CULTURA -->
    <section class="card step-pane active" data-step="1">
      <h2>Qual a cultura?</h2>
      <div class="row">
        <label for="crop">Escolha a cultura</label>
        <select id="crop">
          <option value="alface">Alface</option>
          <option value="tomate" selected>Tomate</option>
          <option value="milho">Milho</option>
          <option value="soja">Soja</option>
          <option value="feijao">Feij√£o</option>
          <option value="outro">Outro (vou informar)</option>
        </select>
      </div>

      <details class="details-hint">
        <summary>N√£o sei dados t√©cnicos ‚Äî usar valores padr√£o</summary>
        <div class="grid two">
          <div>
            <label for="kc">Quanto a cultura bebe (Kc)</label>
            <input type="number" id="kc" step="0.01" min="0.3" max="1.3"/>
            <small class="muted">Se n√£o souber, deixo um valor bom para a cultura escolhida.</small>
          </div>
          <div>
            <label for="rootDepth">Raiz (profundidade)</label>
            <input type="number" id="rootDepth" step="0.1" min="0.1" max="2.5"/>
            <small class="muted">Metros. Se n√£o souber, uso um valor padr√£o.</small>
          </div>
        </div>
      </details>

      <div class="nav">
        <button class="btn next">Pr√≥ximo</button>
      </div>
    </section>

    <!-- PASSO 2: SOLO -->
    <section class="card step-pane" data-step="2">
      <h2>Como √© o solo?</h2>
      <div class="soil-buttons">
        <button class="soil btn-chip" data-soil="arenoso">üü† Arenoso</button>
        <button class="soil btn-chip active" data-soil="franco">üü§ Meio termo</button>
        <button class="soil btn-chip" data-soil="argiloso">‚¨õ Argiloso</button>
      </div>
      <details class="details-hint">
        <summary>Quero ajustar a reten√ß√£o de √°gua do solo</summary>
        <div class="row">
          <label for="cad">Reten√ß√£o (CAD) do solo (mm por metro)</label>
          <input type="number" id="cad" min="20" max="250" step="1" value="120"/>
        </div>
      </details>
      <div class="nav">
        <button class="btn back">Voltar</button>
        <button class="btn next">Pr√≥ximo</button>
      </div>
    </section>

    <!-- PASSO 3: √ÅREA -->
    <section class="card step-pane" data-step="3">
      <h2>Qual o tamanho plantado?</h2>
      <div class="tabs" role="tablist">
        <button class="tab active" data-tab="ha">Tenho em hectares</button>
        <button class="tab" data-tab="canteiro">Quero medir o canteiro</button>
      </div>

      <div class="tab-pane active" data-tab="ha">
        <div class="grid two">
          <div>
            <label for="areaHa">√Årea (ha)</label>
            <input type="number" id="areaHa" step="0.01" min="0.01" value="0.10"/>
          </div>
          <div>
            <label for="plants">N¬∫ de plantas (opcional)</label>
            <input type="number" id="plants" min="1" placeholder="Se n√£o souber, calculo pra voc√™"/>
          </div>
        </div>
      </div>

      <div class="tab-pane" data-tab="canteiro">
        <div class="grid two">
          <div>
            <label for="len">Comprimento do canteiro (m)</label>
            <input type="number" id="len" step="0.1" min="1" value="20"/>
          </div>
          <div>
            <label for="wid">Largura do canteiro (m)</label>
            <input type="number" id="wid" step="0.1" min="0.5" value="1.2"/>
          </div>
        </div>
        <div class="grid two">
          <div>
            <label for="beds">Quantidade de canteiros</label>
            <input type="number" id="beds" min="1" value="10"/>
          </div>
          <div>
            <label for="areaAuto">√Årea total (m¬≤)</label>
            <input type="number" id="areaAuto" disabled/>
          </div>
        </div>
        <details class="details-hint">
          <summary>N√£o sei o n¬∫ de plantas ‚Äî calcule pelo espa√ßamento</summary>
          <div class="grid two">
            <div>
              <label for="rowSpacing">Espa√ßo entre linhas (cm)</label>
              <input type="number" id="rowSpacing" min="10" step="1" value="80"/>
            </div>
            <div>
              <label for="plantSpacing">Espa√ßo entre plantas na linha (cm)</label>
              <input type="number" id="plantSpacing" min="10" step="1" value="40"/>
            </div>
          </div>
          <div class="row">
            <label for="plantsAuto">N¬∫ de plantas estimado</label>
            <input type="number" id="plantsAuto" disabled/>
          </div>
        </details>
      </div>

      <div class="nav">
        <button class="btn back">Voltar</button>
        <button class="btn next">Pr√≥ximo</button>
      </div>
    </section>

    <!-- PASSO 4: CLIMA E SISTEMA -->
    <section class="card step-pane" data-step="4">
      <h2>Clima do local e sistema de irriga√ß√£o</h2>
      <div class="grid two">
        <div>
          <label>Clima (ajuda a estimar a perda de √°gua)</label>
          <div class="clima">
            <label><input type="radio" name="clima" value="frio"> Frio</label>
            <label><input type="radio" name="clima" value="ameno" checked> Ameno</label>
            <label><input type="radio" name="clima" value="quenteU"> Quente √∫mido</label>
            <label><input type="radio" name="clima" value="quenteS"> Quente seco</label>
          </div>
          <label for="mes">M√™s do ano</label>
          <select id="mes">
            <option value="1">Janeiro</option><option value="2">Fevereiro</option><option value="3">Mar√ßo</option>
            <option value="4">Abril</option><option value="5">Maio</option><option value="6">Junho</option>
            <option value="7">Julho</option><option value="8" selected>Agosto</option><option value="9">Setembro</option>
            <option value="10">Outubro</option><option value="11">Novembro</option><option value="12">Dezembro</option>
          </select>
          <div class="row">
            <label for="eto">Perda di√°ria (ETo) ‚Äî posso estimar</label>
            <input type="number" id="eto" step="0.1" min="0" max="15" />
            <small class="muted">mm/dia (se deixar vazio, eu calculo pelo clima e m√™s)</small>
          </div>
        </div>
        <div>
          <label>Sistema de irriga√ß√£o</label>
          <div class="sistema">
            <button class="btn-chip sys active" data-eff="0.90">üíß Gotejamento</button>
            <button class="btn-chip sys" data-eff="0.75">üåßÔ∏è Aspers√£o</button>
            <button class="btn-chip sys" data-eff="0.60">üöú Sulcos</button>
          </div>
          <div class="grid two">
            <div>
              <label for="emit">Vaz√£o por planta (L/h)</label>
              <input type="number" id="emit" step="0.1" min="0" placeholder="ex: 1.6"/>
            </div>
            <div>
              <label for="emitCount">Gotejadores por planta</label>
              <input type="number" id="emitCount" min="1" value="1"/>
            </div>
          </div>
        </div>
      </div>
      <div class="nav">
        <button class="btn back">Voltar</button>
        <button class="btn next" id="btnCalc">Ver resultado</button>
      </div>
    </section>

    <!-- PASSO 5: RESULTADO -->
    <section class="card step-pane" data-step="5">
      <h2>Recomenda√ß√£o simples</h2>
      <div class="big-stats">
        <div class="big">
          <div class="big-label">√Ågua por dia (total)</div>
          <div class="big-value" id="outDailyVol">‚Äî</div>
        </div>
        <div class="big">
          <div class="big-label">Por planta (dia)</div>
          <div class="big-value" id="outPerPlant">‚Äî</div>
        </div>
      </div>

      <div class="schedule">
        <div class="line">
          <span id="outInterval">‚Äî</span>
          <span id="outEventVol">‚Äî</span>
          <span id="outMinutes">‚Äî</span>
        </div>
        <small class="muted">*Minutos calculados com sua vaz√£o por planta.</small>
      </div>

      <details class="details-hint">
        <summary>Ver detalhes t√©cnicos (para t√©cnico/engenheiro)</summary>
        <div class="grid three">
          <div class="stat">
            <span class="label">ETc</span><span class="value" id="outEtc">‚Äî</span>
          </div>
          <div class="stat">
            <span class="label">L√¢mina l√≠quida (mm/dia)</span><span class="value" id="outNIR">‚Äî</span>
          </div>
          <div class="stat">
            <span class="label">L√¢mina bruta (mm/dia)</span><span class="value" id="outGIR">‚Äî</span>
          </div>
        </div>
      </details>

      <section class="card inner">
        <h3>Economize √°gua</h3>
        <ul class="tips">
          <li>Irrigue no come√ßo da manh√£ ou fim da tarde.</li>
          <li>Mantenha cobertura no solo (palhada/mulching).</li>
          <li>Prefira gotejamento quando poss√≠vel.</li>
        </ul>
      </section>

      <div class="nav">
        <button class="btn back">Voltar</button>
        <button class="btn ghost" id="btnNovo">Novo c√°lculo</button>
      </div>

      <section class="card inner">
        <h3>Como chegar nesse n√∫mero</h3>
        <canvas id="chartDailyVolume" height="120"></canvas>
      </section>
    </section>
  </main>

  <footer class="container footer">
    <span>√Ågua Certa ‚Äî feito para o campo, com simplicidade.</span>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script><!-- se voc√™ tiver um api.js -->
  <script type="module" src="./javascript/app.js" defer></script>   <!-- AQUI: de ../ para ./ -->

</body>
</html>
